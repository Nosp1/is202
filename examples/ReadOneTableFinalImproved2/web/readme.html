<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
    <html>        
    <head>
        <title>Readme</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="css.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <h1> One table, new, update, retrieve </h1>
            <p> </p>
            <h2>
                Check out: 
            </h2>
                Maybe have GeneralPrinter as a superclass for all other 
                Printers. So each class use one printer class. 
                
            
            <h1>New in this version: </h1> 
            <h2>"Master Servlet" class </h2>
            <p>
                Eeach Servlet will extend the Servlet called
                HttpServletProject. This Servlet have methods like              
            </p>
            <ul>
               <li>skrivHtmlHeader  </li>
               <li>printBody </li>
               <li>printEnd</li>
               <li>printMenuButtons</li>
            </ul>  
            <p>Then there is the method <br> 
                printPage(PrintWriter out,HttpServletRequest request, String tittel)  <br>
                { <br>
                    skrivHtmlHeader(out, tittel); <br>
                    printBody(out, request); <br>
                    printEnd(out); <br>
                }    <br>
            </p> 
            
            <p>The printBody methos will print the header, and the menu. 
            AND THEN: printBody methos is overrided in all classes that 
            implements this Servlet. 
            </p>
         
            <p>
                All Servlets that extends this, will have the same structure: <br>
            </p>
 
            <ol>
               <li> super.printBody(out, request); </li>
               <li> Then the rest that are goint to be printed on this page</li>
            </ol>       
            
            <p> 
                This will make all pages the same, one Master Servlet, that 
                connect to one css file, orint header.....               
            </p>
           
            <p>
                Another thing worth noticing is that the printEnd methos in 
                the superclass Servlet is called at the end, after printBody <br>
                Tis method, printEnd is not overrided in the subclasses. 
                
            </p>
           <h1>New in this version</h1>
           <p class ="redBig"> Prepared statement: Purpose with 
               Prepared Statement See <a href ="https://en.wikipedia.org/wiki/Prepared_statement"> Wikipedia Prepared Statement </a>
               <br> See how to work wit prepared Statement at 
               <a href ="https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html"> https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html </a>     
           </p>
           
           <p class ="blueBig">
               The following is done: 
           <ol>
               <li>Create a Prepared Statement object. See in the 
                    StudentTools class, in the method  studentRetrieveAll() 
                    or updateStudent() or newStudent </li>
               <li>The code will typically be something like: 

                   public void skrivStudenter(PrintWriter out) <br>
                   { <br>
                   PreparedStatement getStudents; <br>         
                   try { <br>
                   getStudents = conn.prepareStatement("select * from student where snr =?");<br>
                   getStudents.setInt(1,"snr");<br>
                   <br>
                   ResultSet rset = getStudents.executeQuery();<br>
 
                   // Step 4: Process the ResultSet by scrolling the cursor forward via next(). <br>
                   //  For each row, retrieve the contents of the cells with getXxx(columnName). <br>
                   out.println("The records selected are:" +"<br>"); <br>
                   int rowCount = 0; <br>
                   while(rset.next()) {   <br>
                   ...............................
                              
               </li>
           </ol>
           </p>
            
           <h1>From earlier </h1>   
           <p class="blue">In Context.xml: Define DataSource </p>
              
           <p class="red"> In Web.xml: Define which DataSource to use (May be omitted)</p>
           <p class="blue"> In the Java code, use the DataSource to log into the database</p>
           <p class="red"> Here we have restructured the code. </p>
           <p class="blue"> The loggInn() method returns a Connection </p>
           
           <p class="red"> When we use the loggInn(out) method, we do 
                  this in a try with resources structure. 
                  <a href ="https://stackoverflow.com/questions/8066501/how-should-i-use-try-with-resources-with-jdbc"> Stackowerflow try with resources </a>                 
          </p>
          <p class="blue">     For Student, we have a Servlet, here called RetrieveData. 
                  The new thing is that we have a tool class for Student, here
                  called StudentTools. The structure we will try to follow is 
                  that when a request is "ordered" from the user, the Servlet will 
                  create the necessary toold, that means objects, and call the 
                  necessary methods. The logic and details should be in the tool, 
                  the Servlet should be as "clean" and simple as possible.
          </p> 
          
         </body>
    </html>